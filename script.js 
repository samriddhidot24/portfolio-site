/* Subtle 3D tilt on the avatar pill */
const pill = document.getElementById("logoPill");
if (pill) {
  const max = 8; // degrees
  const reset = () => (pill.style.transform = "translateZ(0) rotateX(0) rotateY(0)");
  pill.addEventListener("mousemove", (e) => {
    const r = pill.getBoundingClientRect();
    const px = (e.clientX - r.left) / r.width;
    const py = (e.clientY - r.top) / r.height;
    const rx = (py - 0.5) * -2 * max;
    const ry = (px - 0.5) *  2 * max;
    pill.style.transform = `translateZ(0) rotateX(${rx}deg) rotateY(${ry}deg)`;
  });
  pill.addEventListener("mouseleave", reset);
}

/* Little plane jiggle on hover (CSS does most) */
const contact = document.getElementById("contactLink");
if (contact) {
  contact.addEventListener("mouseenter", () => {
    contact.querySelector(".fly-icon")?.animate(
      [
        { transform:"translateX(0) rotate(0deg)" },
        { transform:"translateX(7px) rotate(12deg)" },
        { transform:"translateX(0) rotate(0deg)" }
      ],
      { duration: 450, easing: "ease-out" }
    );
  });
}
